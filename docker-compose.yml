version: '3.4'

networks:
  lavalink:

services:
  lavalink:
    container_name: lavalink
    image: fredboat/lavalink:latest-alpine
    restart: unless-stopped
    environment:
        - SERVER_PORT=2333
        - LAVALINK_SERVER_PASSWORD=youshallnotpass
        - LAVALINK_SERVER_SOURCES_YOUTUBE=true
        - LAVALINK_SERVER_SOURCES_BANDCAMP=true
        - LAVALINK_SERVER_SOURCES_SOUNDCLOUD=true
        - LAVALINK_SERVER_SOURCES_TWITCH=true
        - LAVALINK_SERVER_SOURCES_VIMEO=true
        - LAVALINK_SERVER_SOURCES_HTTP=true
        - LAVALINK_SERVER_SOURCES_LOCAL=false
        - LAVALINK_SERVER_BUFFER_DURATION_MS=400
        - LAVALINK_SERVER_YOUTUBE_PLAYLIST_LOAD_LIMIT=6
        - LAVALINK_SERVER_YOUTUBE_SEARCH_ENABLED=true
        - LAVALINK_SERVER_SOUNDCLOUD_SEARCH_ENABLED=true
        - LAVALINK_SERVER_GC_WARNINGS=true
        - METRICS_PROMETHEUS_ENABLED=false
        - METRICS_PROMETHEUS_ENDPOINT=/metrics
        - SENTRY_DSN=
        - LOGGING_LEVEL_ROOT=INFO
        - LOGGING_LEVEL_LAVALINK=INFO
    expose:
        - 2333
    ports:
        - "2333:2333"
    networks:
        - lavalink
  presli:
    container_name: presli
    image: mitakabul/presli:latest
    depends_on:
        - lavalink
    environment:
        - token=your discord bot token
    networks:
        - lavalink
